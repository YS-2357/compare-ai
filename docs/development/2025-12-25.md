# 2025-12-25 개발 기록

## 모델 목록
- OpenAI 채팅 모델 목록을 API 응답 기준으로 갱신.
- `app/services/shared/model_aliases.py`: 평가 모델을 가성비 중심 최신 모델로 재선정.
- Gemini 채팅 모델 목록을 API 응답 기준으로 갱신.
- Perplexity 모델 목록 API 응답이 비어 있어 기존 모델 목록 유지.
- Perplexity 모델 목록을 `sonar`, `sonar-pro`, `sonar-reasoning-pro`, `sonar-deep-research`로 확정.

## 기본 모델
- `app/utils/config.py`: Anthropic/Cohere 기본 모델을 7b/8b 제외 기준으로 조정.
- `app/ui/streamlit_app.py`: 기본 모델 후보군(가성비 기준) 갱신.

## 버그 수정
- `app/services/chat_compare/nodes.py`: 요약 함수 호출명 오류 수정(`_summarize_content` → `summarize_content`).
- `app/services/chat_compare/nodes.py`: Cohere 응답 content를 안전하게 문자열로 정규화.

## UI/요청
- `app/ui/streamlit_app.py`: 사이드바 모델 ON/OFF 토글 추가 및 활성 모델만 요청에 포함.
- `app/api/schemas/ask.py`, `app/api/routes.py`: `active_providers`를 받아 chat_compare 활성 모델에 반영.

## UI 보강
- `app/ui/streamlit_app.py`: 프롬프트 평가 입력에서 `{question}` 누락 시 경고 및 실행 차단 추가.
