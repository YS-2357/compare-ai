# 2025-12-18

## 추가
- 프롬프트 평가 서비스 신설 (`app/services/prompt_eval.py`): 공통 프롬프트로 모델을 팬아웃 호출한 뒤, 선택된 벤더의 최신 모델(e.g., gpt-5-mini, gemini-3-flash-preview, claude-sonnet-4-5-20250929, solar-mini, sonar)들이 블라인드로 점수를 매기며 partial/summary 이벤트를 스트리밍.
- 프롬프트 평가 API 스키마 (`app/api/schemas/prompt_eval.py`)와 스트리밍 엔드포인트 `/api/prompt-eval`: 점수/테이블/평균 및 usage 메타를 NDJSON으로 반환.
- Streamlit “프롬프트 평가” 탭: 질문 입력, 모델 선택, 공통 프롬프트 입력(또는 기본값 사용) 후 스트리밍 답변과 최종 점수 테이블/평균을 렌더링.
- UI 헬퍼 `_send_prompt_eval`: 프롬프트 평가 스트림 처리 및 세션에 히스토리(`prompt_eval_log`) 저장.

## 변경
- 모델 호출 실패 시 “응답 실패: …” 형식으로 에러 메시지/상태를 통일.
- Streamlit partial 렌더링에서 오류 상태를 감지해 `st.error`로 표시.
- 평가 summary에서 마크다운 테이블을 제거하고 점수/평가자 정보를 JSON으로 내려 UI에서 테이블/expander로 렌더.
- 평가자별 소요시간(`elapsed_ms`)과 상태를 summary에 포함, UI expander에서 요약 테이블+원본 JSON 표시.

## 내부/인프라
- 콘솔 로거 색상화(`app/logger.py`): 이모지 유지, 로그 레벨별 ANSI 색상 적용.
