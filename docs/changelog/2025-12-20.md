# 2025-12-20

## 변경
- 서비스 폴더 구조 정리: `langgraph` → `chat_graph`, 프롬프트 평가 모듈을 `prompt_eval/runner.py`로 분리하고 shared에 공통 모델 매핑 추가.
- 모델 선택 옵션 최신화: OpenAI/Gemini/Anthropic/Upstage/Perplexity/Mistral/Groq/Cohere 모델 리스트 확장.
- 프롬프트 평가 평가단계 병렬화 및 에러 내성 강화(예외 시 -1 fallback).
- 네이밍/폴더 가이드 문서 추가(`docs/guides/naming-guidelines.md`) 및 docs 인덱스 갱신.
- 스크립트 헬퍼 네이밍을 가이드에 맞춰 정리(`scripts/run_app.py`: 내부용 함수 `_run_*`, `_ensure_*`로 통일).
- LangGraph 헬퍼 네이밍 정리: `message_to_text` 호출부에서 잔존 `_message_to_text` 참조를 수정해 런타임 오류 제거.
- Streamlit 평가 탭 UI 보완: `use_container_width` 폐지 대응(`width="stretch"` 적용) 및 `status`를 문자열화해 PyArrow 변환 오류/깨짐을 방지.
- FastAPI Swagger 설명 강화: NDJSON/토큰/엔드포인트 개념을 초급자도 이해하도록 상세 안내 추가.
- Swagger 문서 보강: `/api/prompt-eval` 포함 모든 주요 엔드포인트에 요청/응답/이벤트 필드 설명을 추가해 0년차 개발자도 바로 사용할 수 있게 정리.
- 로깅 가이드 신설: `docs/guides/logger-guidelines.md`에 함수 시작/종료, 작업 블록, 값 변경, 예외 처리 로깅 규칙과 예시/체크리스트를 추가.
- 로깅 규칙 전면 적용: API/서비스/레이트리밋/프롬프트 평가/Streamlit UI/스크립트 함수에 한국어 시작/종료/예외 로그를 추가해 추적성을 높임(노트북 제외).
- 설정/로거 위치 변경: `app/utils/{config.py, logger.py}`로 이동하고 전역 import 경로를 정리.
- 로그 파일 저장: 루트 `/logs/<날짜>.log`로 일자별 파일 핸들러 추가.
- 파일 로그는 ANSI 색상코드를 제거하고 순수 텍스트로 저장하도록 포맷터 분리.
- 프롬프트 평가: 모범답변(reference) 옵션 추가, 평가 루브릭 분기.
- UI: 평가 결과 카드/텍스트/다운로드로 복사·가독성 개선, 그래프를 Graphviz 토글로 각 탭에서 표시.
- Swagger: `/api/prompt-eval`에 reference_answer 옵션 안내 문구 추가.
- 가이드 분리: 네이밍/로거/설정(config) 가이드를 개별 문서로 관리.

## 참고
- 2025-12-18 로그에는 프롬프트 평가 스트림/탭 추가와 JSON 렌더 도입 내용을 기록.
